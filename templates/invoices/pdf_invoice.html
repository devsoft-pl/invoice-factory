{% load static %}
<style>
    @font-face {
        font-family: "Open Sans"; src: url("static/OpenSans-Regular.ttf");
    }
    * {
        font-family: "Open Sans";
    }
    h1   {color: blue;}
    h2   {color: blue;}
    p    {color: blue;}
    b    {color: gray;}
</style>
<h1>Faktura</h1>
<p>Nr {{ invoice.invoice_number }}</p>

<table style="width:100%">
    <tr>
        <td><b>SPRZEDAWCA: </b>{{ company.name }}</td>
        <td><b>NABYWCA: </b>{{ invoice.company }}</td>
    </tr>
    <tr>
        <td><b>ADRES: </b>{{ company.address }}</td>
        <td><b>ADRES: </b>{{ invoice.company.address }}</td>
    </tr>
    <tr>
        <td>{{ company.zip_code }} {{ company.city }}, {{ company.country }}</td>
        <td>{{ invoice.company.zip_code }} {{ invoice.company.city }}, {{ invoice.company.country }}</td>
    </tr>
    <tr>
        <td><b>NIP: </b>{{ company.nip }}</td>
        <td><b>NIP: </b>{{ invoice.company.nip }}</td>
    </tr>
</table>

<hr>

<table>
    <tr>
        <th></th>
        <th></th>
    </tr>
    <tr>
        <td><b>DATA WYSTAWIENIA: </b>{{ invoice.create_date }}</td>
        <td><b>SPOSÓB PŁATNOŚCI: </b>{{ invoice.get_payment_method_display }}</td>
    </tr>
    <tr>
        <td><b>DATA SPRZEDAŻY: </b>{{ invoice.sale_date }}</td>
        <td><b>WALUTA: </b>{{ invoice.currency }}</td>
    </tr>
    <tr>
        <td><b>TERMIN PŁATNOŚCI </b>{{ invoice.payment_date }}</td>
        <td><b>NUMER KONTA: </b>{{ invoice.account_number }}</td>
    </tr>

</table>

<hr>

<h2>Pozycje faktury</h2>

{% if items %}
    <table>
        <tr>
            <th>Lp</th>
            <th>Nazwa towaru lub uslugi</th>
            <th>PKWiU</th>
            <th>Ilość</th>
            <th>Cena netto</th>
            <th>Wartość netto</th>
            <th>Stawka VAT</th>
        </tr>
        {% for item in items %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ item.name }}</td>
                <td>{{ item.pkwiu }}</td>
                <td>{{ item.amount }}</td>
                <td>{{ item.net_price }}</td>
                <td>{{ item.net_amount }}</td>
                <td>{{ item.vat }}</td>
            </tr>
        {% endfor %}
    </table>
{% else %}
    <p>Brak pozycji</p>
{% endif %}

<hr>

<h2>Podsumowanie</h2>

{% if items %}
    <table>
        <tr>
            <th></th>
            <th>Stawka VAT</th>
            <th>Wartość netto</th>
            <th>VAT</th>
            <th>Wartość brutto</th>
        </tr>
        {% for item in items %}
            <tr>
                <td></td>
                <td>{{ item.vat }} %</td>
                <td>{{ item.net_amount|floatformat:"2g"}}</td>
                <td>{{ item.tax_amount|floatformat:"2g" }}</td>
                <td>{{ item.gross_amount|floatformat:"2g" }}</td>
            </tr>
        {% endfor %}
        <tr>
            <td>Razem:</td>
            <td></td>
            <td>{{ invoice.net_amount|floatformat:"2g"}}</td>
            <td>{{ invoice.tax_amount|floatformat:"2g" }}</td>
            <td>{{ invoice.gross_amount|floatformat:"2g" }}</td>
        </tr>
        <tr>
            <td>Zapłacono:</td>
            <td></td>
            <td></td>
            <td></td>
            <td>0.00</td>
        </tr>
        <tr>
            <td>Pozostało do zapłaty:</td>
            <td></td>
            <td></td>
            <td></td>
            <td>{{ invoice.gross_amount|floatformat:"2g" }}</td>
        </tr>
        <tr>
            <td>Słownie:</td>
            <td></td>
            <td></td>
            <td></td>
            <td>{{ gross_whole_amount }} złotych i {{ gross_frac_amount }} groszy</td>
        </tr>
    </table>
{% else %}
    <p>Brak pozycji</p>
{% endif %}

<hr>




<h1 style="text-align: right"><u>Razem do zapłaty: {{ invoice.gross_amount }} {{ invoice.currency }}</u></h1>










